<div class="animated fadeIn">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="const_hd">
                    <button class="btn btn-primary btn-sm mr-2" (click)="goToFinance()">
                        <i class="fa fa-arrow-left" aria-hidden="true"></i> &nbsp; Back
                    </button> Unit: {{unitDetailsObj?.unit_no}}
                    <button style="float: right;" [disabled]="unitDetailsObj?.status=='SOLD' || unitDetailsObj?.status == 'MERGED & RETIRED'"
                        class="btn btn-sm btn-danger mt-2" type="button" (click)="deleteUnit()">
                        <i class="fa fa-trash" aria-hidden="true"></i>
                    </button>
                    <button style="float: right;" class="btn btn-sm btn-primary mt-2 mr-2" type="button" (click)="openAllocateLocker(allocateLockerModal)">
                        Allocate Locker
                    </button>
                    <button style="float: right;" class="btn btn-sm btn-primary mt-2 mr-2" type="button" (click)="openAllocateBicycle(allocateBicycleModal)">
                        Allocate Bicycle
                    </button>
                    <button style="float: right;" class="btn btn-sm btn-primary mt-2 mr-2" type="button" (click)="openAllocateParking(allocateParkingModal)">
                        Allocate Parking
                    </button>
                </div>
            </div>
        </div>
        <div class="content-wrap">
            <div class="row">
                <div class="col-lg-12 col-xs-12">
                    <div class="project-details">
                        <div class="row">
                            <div class="col-md-6 padding-right-2">
                                <div class="card">
                                    <div class="card-body" style="height:452px">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <h4>Basic Details :
                                                    <button [disabled]="unitDetailsObj?.status=='SOLD' || unitDetailsObj?.status == 'MERGED & RETIRED'" style="float: right;"
                                                        class="btn btn-sm btn-primary" type="button" (click)="openEditUnitModal(basicTab, 'basicTab')">
                                                        <i class="fas fa-pencil-alt" style="font-size:12px;"></i>
                                                    </button>
                                                </h4>
                                                <dl class="row">
                                                    <dd class="col-md-5">Builder</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.builder_name}}</dd>
                                                    <dd class="col-md-5">Project</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.project_name}}</dd>
                                                    <dd class="col-md-5">Building Type</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.building_type | titlecase}}</dd>
                                                    <dd class="col-md-5">Model</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.model_name}}</dd>
                                                    <dd class="col-md-5">Collection</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.collection}}</dd>
                                                    <ng-container *ngIf="unitDetailsObj?.type">
                                                        <dd class="col-md-5">Type</dd>
                                                        <dd class="col-md-7">: {{unitDetailsObj?.type}}</dd>
                                                    </ng-container>
                                                    <dd class="col-md-5">Status</dd>
                                                    <dd class="col-md-7" *ngIf="unitDetailsObj?.status=='AVAILABLE'">:
                                                        <div class="badge badge-success">{{unitDetailsObj?.status}}</div>
                                                    </dd>
                                                    <dd class="col-md-7" *ngIf="unitDetailsObj?.status=='SOLD'">:
                                                        <div class="badge badge-danger">{{unitDetailsObj?.status}}</div>
                                                    </dd>
                                                    <dd class="col-md-7" *ngIf="unitDetailsObj?.status !='AVAILABLE' && unitDetailsObj?.status !='SOLD'">:
                                                        <div class="badge badge-warning">{{unitDetailsObj?.status ?unitDetailsObj?.status :'NA'}}</div>
                                                    </dd>
                                                    <dd class="col-md-5" *ngIf="unitDetailsObj?.merged_unit && unitDetailsObj?.merged_units.length>0">Merged Units </dd>
                                                    <dd class="col-md-7" *ngIf="unitDetailsObj?.merged_unit && unitDetailsObj?.merged_units.length>0">
                                                        :
                                                        <span *ngFor="let unit of unitDetailsObj?.merged_units;let i=index" class="link" (click)="navigateToUnitDetails(unit?.unit_id)">{{unit?.unit_no}}
                                                            <span *ngIf="(i+1)!=unitDetailsObj?.merged_units.length">,</span>
                                                        </span>
                                                    </dd>
                                                    <ng-container *ngIf="unitDetailsObj?.unit_no_legal">
                                                        <dd class="col-md-5">Legal Unit No </dd>
                                                        <dd class="col-md-7">: {{unitDetailsObj?.unit_no_legal}}</dd>
                                                    </ng-container>
                                                    <ng-container *ngIf="unitDetailsObj?.unit_no_marketing">
                                                        <dd class="col-md-5">Marketing Unit No </dd>
                                                        <dd class="col-md-7">: {{unitDetailsObj?.unit_no_marketing}}</dd>
                                                    </ng-container>
                                                    <ng-container *ngIf="unitDetailsObj?.floor_legal">
                                                        <dd class="col-md-5">Legal Floor </dd>
                                                        <dd class="col-md-7">: {{unitDetailsObj?.floor_legal}}</dd>
                                                    </ng-container>
                                                    <ng-container *ngIf="unitDetailsObj?.floor_marketing">
                                                        <dd class="col-md-5">Marketing Floor</dd>
                                                        <dd class="col-md-7">: {{unitDetailsObj?.floor_marketing}}</dd>
                                                    </ng-container>
                                                </dl>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 padding-left-1">
                                <div class="card">
                                    <div class="card-body" style="height:452px">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <h4>Other Details :
                                                    <button [disabled]="unitDetailsObj?.status=='SOLD' || unitDetailsObj?.status == 'MERGED & RETIRED'" style="float: right;"
                                                        class="btn btn-sm btn-primary" type="button" (click)="openEditUnitModal(otherTab, 'otherTab')">
                                                        <i class="fas fa-pencil-alt" style="font-size:12px;"></i>
                                                    </button>
                                                </h4>
                                                <dl class="row">
                                                    <dd class="col-md-5">Bathroom</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.bath}}</dd>
                                                    <dd class="col-md-5">Bedroom</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.bed}}</dd>
                                                    <dd class="col-md-5">Den</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.den}}</dd>
                                                    <dd class="col-md-5">Media</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.media}}</dd>
                                                    <dd class="col-md-5">Flex</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.flex}}</dd>
                                                    <dd class="col-md-5">Area ({{measureUnits[0]?.area}})</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.area}}</dd>
                                                    <dd class="col-md-5">Ceiling ({{measureUnits[0]?.length}})</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.ceiling}}</dd>
                                                    <dd class="col-md-5">Outdoor Area ({{measureUnits[0]?.area}})</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.outdoor_area}}</dd>
                                                    <dd class="col-md-5">Outdoor Type</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.outdoor_type}}</dd>
                                                    <dd class="col-md-5">Eligible for Parking</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.is_parking_eligible?'Yes':'No'}}</dd>
                                                    <dd class="col-md-5" *ngIf="unitDetailsObj?.is_parking_eligible">Max # of Parkings</dd>
                                                    <dd class="col-md-7" *ngIf="unitDetailsObj?.is_parking_eligible">: {{unitDetailsObj?.max_parking}}</dd>
                                                    <dd class="col-md-5">Eligible for Locker</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.is_locker_eligible?'Yes':'No'}}</dd>
                                                    <dd class="col-md-5" *ngIf="unitDetailsObj?.is_locker_eligible">Max # of Lockers</dd>
                                                    <dd class="col-md-7" *ngIf="unitDetailsObj?.is_locker_eligible">: {{unitDetailsObj?.max_lockers}}</dd>
                                                    <dd class="col-md-5">Eligible for Bicycle</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.is_bicycle_eligible?'Yes':'No'}}</dd>
                                                    <dd class="col-md-5" *ngIf="unitDetailsObj?.is_bicycle_eligible">Max # of Bicycles</dd>
                                                    <dd class="col-md-7" *ngIf="unitDetailsObj?.is_bicycle_eligible">: {{unitDetailsObj?.max_bicycle}}</dd>
                                                </dl>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 padding-right-2">
                                <div class="card">
                                    <div class="details-tab-container card-body">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <h4>Views:
                                                    <button [disabled]="unitDetailsObj?.status=='SOLD' || unitDetailsObj?.status == 'MERGED & RETIRED'" style="float: right;"
                                                        class="btn btn-sm btn-primary" type="button" (click)="openEditUnitModal(editUnitViews, 'editUnitViews')">
                                                        <i class="fas fa-pencil-alt" style="font-size:12px;"></i>
                                                    </button>
                                                </h4>
                                                <div *ngFor="let view of unitDetailsObj?.views; let i=index">
                                                    {{i+1}}. {{view}}
                                                </div>
                                                <div *ngIf="!unitDetailsObj?.views || unitDetailsObj?.views.length==0">
                                                    No view is asigned for this unit
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 padding-left-1">
                                <div class="card">
                                    <div class="card-body details-tab-container">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <h4>Spaces
                                                    <button style="float: right;" class="btn btn-sm btn-primary text-right" type="button" (click)="openEditUnitModal(editUnitSpaces,'spacesTab')">
                                                        <i class="fas fa-pencil-alt" style="font-size:12px;"></i>
                                                    </button>
                                                </h4>
                                                <dl class="row mb-0" *ngIf="unitDetailsObj?.spaces">
                                                    <ng-container *ngFor="let item of unitDetailsObj?.spaces; let i=index">
                                                        <dd class="col-md-5">{{i+1}}. {{item?.name}}</dd>
                                                        <dd class="col-md-5">{{item?.size}} ({{measureUnits[0]?.area}})</dd>
                                                    </ng-container>
                                                </dl>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6 padding-right-2">
                                <div class="card ">
                                    <div class="details-tab-container card-body">
                                        <div class="row ">
                                            <div class="col-md-12 ">
                                                <h4>Notes
                                                    <button style="float: right; " class="btn btn-sm btn-primary doc-img-up-btn" type="button " (click)="openAddNotesModal(noteModal) ">
                                                        Add
                                                    </button>
                                                </h4>
                                                <div class="row ">
                                                    <div class="col-md-12 ">
                                                        <div class="table-responsive tableFixHead ng-tns-c2-3 ng-star-inserted ">
                                                            <table class="table table-sm table-borderless " style="table-layout:fixed; ">
                                                                <thead>
                                                                </thead>
                                                                <tbody *ngIf="noteList.length>0">
                                                                    <ng-container *ngFor="let item of noteList">
                                                                        <tr>
                                                                            <td style="text-align: left;" [innerHtml]="item?.body">
                                                                            </td>

                                                                            <td class="text-right" style="width:90px">
                                                                                <button class="btn btn-sm btn-primary mr-2" type="button" (click)="editNotesModal(noteModal ,item)">
                                                                                    <i class="fa fa-pencil-alt" aria-hidden="true"></i>
                                                                                </button>
                                                                                <button class="btn btn-sm btn-danger" type="button" (click)="deleteNote(item)">
                                                                                    <i class="fa fa-trash" aria-hidden="true"></i>
                                                                                </button>
                                                                            </td>
                                                                        </tr>
                                                                        <tr>
                                                                            <td class="text-left no-td-top-boder" colspan="2">
                                                                                 By {{item?.created_by}}&nbsp;&nbsp;  On {{item?._created | date:'mediumDate'}} {{item?._created | date:'shortTime'}}
                                                                            </td>
                                                                        </tr>
                                                                    </ng-container>

                                                                </tbody>
                                                                <tbody *ngIf="noteList.length==0">
                                                                    <tr>
                                                                        <td class="text-center" colspan="2"> No note found</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div [class]="unitDetailsObj?.deal_id ? 'col-md-6 padding-left-1': 'col-md-6'" *ngIf="unitDetailsObj?.deal_id">
                                <div class="card">
                                    <div class="details-tab-container card-body">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <h4>Deal Details:</h4>
                                                <dl class="row">
                                                    <dd class="col-md-5">Deal No</dd>
                                                    <dd class="col-md-7 link" (click)="navigateToDealDetails(unitDetailsObj?.deal_id)">: {{unitDetailsObj?.deal_id}}</dd>
                                                    <dd class="col-md-5">Purchaser(s)</dd>
                                                    <dd class="col-md-7">
                                                        :
                                                        <span class="link" (click)="navigateToContact(purchaser?._id)" *ngFor="let purchaser of unitDetailsObj?.deal_details?.purchasers ;let i=index">
                                                            {{purchaser?.display_name}}
                                                            <span *ngIf="(i+1)!=unitDetailsObj?.deal_details?.purchasers.length">;</span>
                                                        </span>
                                                    </dd>
                                                    <dd class="col-md-5">Deal Status</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.deal_details?.stage}}</dd>
                                                    <dd class="col-md-5">Sale Price</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.deal_details?.unit?.sales_price | currency:'USD'}}</dd>
                                                </dl>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div [class]="unitDetailsObj?.deal_id ? 'col-md-6 padding-right-2': 'col-md-6 padding-left-1'">
                                <div class="card">
                                    <div class="details-tab-container card-body">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <h4>Custom Attributes
                                                    <button style="float:right" class="btn btn-sm btn-primary mr-2" type="button" (click)="openCustomAttributesModal(customAttributesModal)">
                                                        <i class="fa fa-pencil-alt" aria-hidden="true"></i>
                                                    </button>
                                                </h4>
                                                <div class="row">
                                                    <div class="col-md-12 pt-2">
                                                        <ng-container *ngIf="customAttributes && customAttributes?.length>0">
                                                            <dl class="row mb-0" *ngFor="let att of customAttributes">
                                                                <ng-container *ngIf="att?.ui_type !='CHECKBOX'">
                                                                    <dd class="col-md-5">{{att?.attribute_name}}</dd>
                                                                    <dd class="col-md-5">: {{unitDetailsObj[att?.attribute_id]}}</dd>
                                                                </ng-container>
                                                                <ng-container *ngIf="att?.ui_type =='CHECKBOX'">
                                                                    <dd class="col-md-5">{{att?.attribute_name}}</dd>
                                                                    <dd class="col-md-5">: {{unitDetailsObj[att?.attribute_id] ? 'Yes' :'No'}}</dd>
                                                                </ng-container>
                                                            </dl>
                                                        </ng-container>
                                                        <ng-container *ngIf="!customAttributes || (customAttributes && customAttributes?.length==0)">
                                                            <p class="text-center">No custom attribute found.</p>
                                                        </ng-container>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div [class]="unitDetailsObj?.deal_id ? 'col-md-6 padding-left-1': 'col-md-6 padding-right-2'">
                                <div class="card">
                                    <div class="details-tab-container card-body">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <h4>Building View:
                                                    <button style="float: right;" class="btn btn-sm btn-primary" type="button" (click)="openEditUnitModal(buildingViewTab, 'buildingViewTab')">
                                                        <i class="fas fa-pencil-alt" style="font-size:12px;"></i>
                                                    </button>
                                                </h4>
                                                <dl class="row">
                                                    <dd class="col-md-5"> Floor Position</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.building_view?.floor}}</dd>
                                                    <dd class="col-md-5"> Unit Position</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.building_view?.unit}}</dd>
                                                    <dd class="col-md-5">Unit Height</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.building_view?.height}}</dd>
                                                    <dd class="col-md-5">Unit Width</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.building_view?.width}}</dd>
                                                </dl>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div [class]="unitDetailsObj?.deal_id ? 'col-md-6 padding-right-2': 'col-md-6 padding-left-1'">
                                <div class="card">
                                    <div class="details-tab-container card-body">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <h4>Finance
                                                    <!-- <button class="btn btn-sm btn-primary doc-img-up-btn" style="float: right;" type="button"> Add
                                                                <input class="doc-img-upload" multiple accept="image/*,.pdf" type="file" (change)="uploadFloorLayout($event.target.files)">
                                                            </button> -->
                                                </h4>
                                                <dl class="row">
                                                    <dd class="col-md-5"> Base Price</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.price ? (unitDetailsObj?.price | currency:'USD')
                                                        :''}}
                                                    </dd>
                                                    <dd class="col-md-5"> Unit Premium</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.unit_premium ? (unitDetailsObj?.unit_premium | currency:'USD'
                                                        ) :''}}</dd>
                                                        <dd class="col-md-5">Floor Premium</dd>
                                                        <dd class="col-md-7">: {{unitDetailsObj?.floor_premium ? (unitDetailsObj?.floor_premium | currency:'USD'
                                                            ) :''}}</dd>
                                                    <dd class="col-md-5">Tax</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.tax ? (unitDetailsObj?.tax | currency:'USD' ) :''}}</dd>
                                                    <dd class="col-md-5"> Sales Price</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.sales_price ? (unitDetailsObj?.sales_price | currency:'USD'
                                                        ) :''}}</dd>
                                                    <dd class="col-md-5">Price Per Unit ({{measureUnits[0]?.area}})</dd>
                                                    <dd class="col-md-7">: {{unitDetailsObj?.psf ? (unitDetailsObj?.psf | currency:'USD' ) :''}}</dd>
                                                </dl>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div [class]="unitDetailsObj?.deal_id ? 'col-md-6 padding-left-1': 'col-md-6 padding-right-2'" *ngIf="unitDetailsObj?.project_id && selectedProject?.type && (selectedProject?.type=='townhouse' || selectedProject?.type=='semi-detached' || selectedProject?.type=='detached')">
                              <div class="card">
                                  <div class="details-tab-container card-body">
                                      <div class="row">
                                          <div class="col-md-12">
                                              <h4>Lot Information:
                                                  <button [disabled]="unitDetailsObj?.status=='SOLD' || unitDetailsObj?.status == 'MERGED & RETIRED'" style="float: right;"
                                                      class="btn btn-sm btn-primary" type="button" (click)="openEditUnitModal(lotInfoTab, 'lotInfoTab')">
                                                      <i class="fas fa-pencil-alt" style="font-size:12px;"></i>
                                                  </button>
                                              </h4>
                                              <dl class="row">
                                                  <dd class="col-md-5"> Lot Name</dd>
                                                  <dd class="col-md-7">: {{unitDetailsObj?.lot_information?.lot_name}}</dd>
                                                  <dd class="col-md-5"> Lot Area</dd>
                                                  <dd class="col-md-7">: {{unitDetailsObj?.lot_information?.lot_area}}</dd>
                                                  <dd class="col-md-5">Depth</dd>
                                                  <dd class="col-md-7">: {{unitDetailsObj?.lot_information?.depth}}</dd>
                                                  <dd class="col-md-5"> Width</dd>
                                                  <dd class="col-md-7">: {{unitDetailsObj?.lot_information?.width}}</dd>
                                                  <dd class="col-md-5">Irregular</dd>
                                                  <dd class="col-md-7">: {{unitDetailsObj?.lot_information?.is_irregular ?'Yes':'No'}}</dd>

                                              </dl>
                                          </div>
                                      </div>
                                  </div>
                              </div>
                          </div>

                            <div [class]="unitDetailsObj?.deal_id ? 'col-md-6 padding-right-2': 'col-md-6 padding-left-1'">
                                <div class="card">
                                    <div class="details-tab-container card-body">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <h4>Floor Layout
                                                    <button class="btn btn-sm btn-primary doc-img-up-btn" style="float: right;" type="button"> Add
                                                        <input class="doc-img-upload" multiple accept="image/*,.pdf" type="file" (change)="uploadFloorLayout($event.target.files)">
                                                    </button>
                                                </h4>
                                                <div class="row">
                                                    <div class="col-md-12 pt-2">
                                                        <ng-container *ngIf="floorLayoutList?.length>0">
                                                            <ul class="film-strip">
                                                                <li style="position: relative;" *ngFor="let item of floorLayoutList">
                                                                    <div class="delete-photo-icon" (click)="deleteFloorLayout(item)">
                                                                        <i class="fas fa-times"></i>
                                                                    </div>
                                                                    <div class="photo-container-div" [ngStyle]="{'background-image': 'url(&quot;' + item?.thumbnailUrl + '/350&quot;)', 'background-size': 'cover', 'background-repeat': 'no-repeat', 'background-position': 'center' }"
                                                                        (click)="openImageViewerBox('Floor Layout',item?.thumbnailUrl,imageViwerModal,item?.file_type)">
                                                                        <i *ngIf="item?.file_type=='pdf'" class="far fa-file-pdf pdf-icon"></i>
                                                                    </div>
                                                                </li>
                                                            </ul>
                                                        </ng-container>
                                                        <ng-container *ngIf="floorLayoutList?.length==0">
                                                            <p class="text-center">No layout found.</p>
                                                        </ng-container>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div [class]="unitDetailsObj?.deal_id ? 'col-md-6 padding-left-1': 'col-md-6 padding-right-2'">
                                <div class="card">
                                    <div class="details-tab-container card-body">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <h4>Key Maps
                                                    <button class="btn btn-sm btn-primary doc-img-up-btn" style="float: right;" type="button"> Add
                                                        <input class="doc-img-upload" multiple accept="image/*,.pdf" type="file" (change)="uploadKeyMaps($event.target.files)">
                                                    </button>
                                                </h4>
                                                <div class="row">
                                                    <div class="col-md-12 pt-2">
                                                        <ng-container *ngIf="keyMapsList?.length>0">
                                                            <ul class="film-strip">
                                                                <li style="position: relative;" *ngFor="let item of keyMapsList">
                                                                    <div class="delete-photo-icon" (click)="deleteKeyMaps(item)">
                                                                        <i class="fas fa-times"></i>
                                                                    </div>
                                                                    <div class="photo-container-div" [ngStyle]="{'background-image': 'url(&quot;' + item?.thumbnailUrl + '/350&quot;)', 'background-size': 'cover', 'background-repeat': 'no-repeat', 'background-position': 'center' }"
                                                                        (click)="openImageViewerBox('Key Map',item?.thumbnailUrl,imageViwerModal,item?.file_type)">
                                                                        <i *ngIf="item?.file_type=='pdf'" class="far fa-file-pdf pdf-icon"></i>
                                                                    </div>
                                                                </li>
                                                            </ul>
                                                        </ng-container>
                                                        <ng-container *ngIf="keyMapsList?.length==0">
                                                            <p class="text-center">No key maps found.</p>
                                                        </ng-container>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div [class]="unitDetailsObj?.deal_id ? 'col-md-6 padding-right-2': 'col-md-6 padding-left-1'">
                              <div class="card">
                                  <div class="card-body details-tab-container">
                                      <div class="row">
                                          <div class="col-md-12">
                                              <h4>Electrical Layout
                                                  <button class="btn btn-sm btn-primary doc-img-up-btn" style="float: right;" type="button"> Add
                                                      <input class="doc-img-upload" multiple accept="image/*,.pdf" type="file" (change)="uploadElectricalLayout($event.target.files)">
                                                  </button>
                                              </h4>
                                              <div class="row">
                                                  <div class="col-md-12 pt-2">
                                                      <ng-container *ngIf="electricalLayoutList?.length>0">
                                                          <ul class="film-strip">
                                                              <li style="position: relative;" *ngFor="let item of electricalLayoutList">
                                                                  <div class="delete-photo-icon" (click)="deleteElectricalLayout(item)">
                                                                      <i class="fas fa-times"></i>
                                                                  </div>
                                                                  <div class="photo-container-div" [ngStyle]="{'background-image': 'url(&quot;' + item?.thumbnailUrl + '/350&quot;)', 'background-size': 'cover', 'background-repeat': 'no-repeat', 'background-position': 'center' }"
                                                                      (click)="openImageViewerBox('Electrical Layout',item?.thumbnailUrl,imageViwerModal,item?.file_type)">
                                                                      <i *ngIf="item?.file_type=='pdf'" class="far fa-file-pdf pdf-icon"></i>
                                                                  </div>
                                                              </li>
                                                          </ul>
                                                      </ng-container>
                                                      <ng-container *ngIf="electricalLayoutList?.length==0">
                                                          <p class="text-center">No layout found.</p>
                                                      </ng-container>
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                  </div>
                              </div>
                          </div>

                          <div [class]="unitDetailsObj?.deal_id ? 'col-md-6 padding-left-1': 'col-md-6 padding-right-2'">
                            <div class="card">
                                <div class=" card-body details-tab-container">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <h4>Suite Layout
                                                <button class="btn btn-sm btn-primary doc-img-up-btn" style="float: right;" type="button">
                                                    Add
                                                    <input class="doc-img-upload" multiple accept="image/*,.pdf" type="file" (change)="uploadSuiteLayout($event.target.files)">
                                                </button>
                                            </h4>
                                            <div class="row">
                                                <div class="col-md-12 pt-2">
                                                    <ng-container *ngIf="suiteLayoutList?.length>0">
                                                        <ul class="film-strip-list">
                                                            <li class="photo" style="position: relative;" *ngFor="let item of suiteLayoutList">
                                                              <div class="icons-block">
                                                                <div class="delete-icon" (click)="deleteSuiteLayout(item)">
                                                                    <i class="fas fa-times"></i>
                                                                </div>
                                                                <div class="delete-icon mr-1" (click)="openImageTitleModal(updateTitleModal,item)">
                                                                  <i class="fa fa-info-circle"></i>
                                                                </div>
                                                              </div>
                                                                <div class="photo-gallery-div" [ngStyle]="{'background-image': 'url(&quot;' + item?.thumbnailUrl + '/350&quot;)', 'background-size': 'cover', 'background-repeat': 'no-repeat', 'background-position': 'center' }"
                                                                    (click)="openImageViewerBox('Suite Customization Layout',item?.thumbnailUrl,imageViwerModal,item?.file_type)">
                                                                    <i *ngIf="item?.file_type=='pdf'" class="far fa-file-pdf pdf-icon"></i>
                                                                </div>
                                                                <div class="photo-description">
                                                                  <div [innerHtml]="item?.title ? item?.title :' '"></div>
                                                              </div>
                                                            </li>
                                                        </ul>
                                                    </ng-container>
                                                    <ng-container *ngIf="suiteLayoutList?.length==0">
                                                        <p class="text-center">No layout found.</p>
                                                    </ng-container>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-12 mb-2 pr-1 ">
                          <div class="card">
                              <div class="card-body">
                                  <div class="row">
                                      <div class="col-md-12">
                                          <h4>Photo Gallery
                                              <button class="btn btn-sm btn-primary doc-img-up-btn" style="float: right;" type="button"> Add
                                                  <input class="doc-img-upload" accept="image/*" type="file" multiple (change)="uploadModelPhoto($event.target.files)">
                                              </button>
                                          </h4>
                                          <br>
                                          <ng-container *ngIf="mediaPhotoList?.length>0">
                                              <ul class="film-strip-list">
                                                  <li class="photo" style="position: relative;" *ngFor="let item of mediaPhotoList;let j=index">
                                                      <div class="icons-block">

                                                          <div class="delete-icon" (click)="deletePhoto(item,$event)">
                                                              <i class="fas fa-times"></i>
                                                          </div>
                                                          <div class="delete-icon mr-1" (click)="openPhotoDescription(photoDescriptionModal,item)">
                                                              <i class="fa fa-info-circle"></i>
                                                          </div>

                                                      </div>
                                                      <div class="photo-gallery-div" [ngStyle]="{ 'background-image':
                                                                  'url(&quot;' + baseUrl + item?.file?.url + '/350&quot;)', 'background-size': 'cover',
                                                                  'background-repeat': 'no-repeat', 'background-position': 'center' } "
                                                          (click)="openPhotoBox(photoViewModal, baseUrl + item?.file?.url, item)">
                                                      </div>

                                                      <div class="photo-description">
                                                          <div [innerHtml]="item?.description ? item?.description :' '"></div>
                                                      </div>
                                                  </li>

                                              </ul>
                                          </ng-container>
                                          <ng-container *ngIf="mediaPhotoList.length==0">
                                              <p class="text-center">No photo found.</p>
                                          </ng-container>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>

                      <div class="col-md-12 mb-2 pr-1">
                        <div class="card">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-12">
                                        <h4>Video Gallery
                                            <button class="btn btn-sm btn-primary doc-img-up-btn" style="float: right;" type="button" (click)="openAddVideoModal(videoModal)">
                                                Add
                                            </button>
                                        </h4>
                                        <br>
                                        <ng-container *ngIf="mediaVideoList?.length>0">
                                            <ul class="film-strip-list">
                                                <li class="photo" style="position: relative;" *ngFor="let item of mediaVideoList">
                                                    <div class="video-delete-photo-icon" (click)="deleteVideo(item,$event)">
                                                        <i class="fas fa-times"></i>
                                                    </div>
                                                    <div *ngIf="item.video_type == 'YOUTUBE'" class="photo-gallery-div" [ngStyle]="{'background-image': 'url(&quot;https://img.youtube.com/vi/'+ item?.video_id +'/mqdefault.jpg&quot;)', 'background-size': 'cover', 'background-repeat': 'no-repeat', 'background-position': 'center' }"
                                                        (click)="openVideoViewer(videoViewerModal,item)">
                                                    </div>
                                                    <div *ngIf="item.video_type == 'VIMEO'" class="photo-gallery-div" [ngStyle]="{'background-image': 'url(&quot;https://i.vimeocdn.com/video/'+ item?.video_id +'_400.jpg&quot;)', 'background-size': 'cover', 'background-repeat': 'no-repeat', 'background-position': 'center' }"
                                                        (click)="openVideoViewer(videoViewerModal,item)">
                                                    </div>
                                                    <div *ngIf="item.video_type == 'MP4'" class="photo-gallery-div" [ngStyle]="{'background-image': 'url(&quot;/assets/img/mp4-icon.jpg&quot;)', 'background-size': 'cover', 'background-repeat': 'no-repeat', 'background-position': 'center' }"
                                                        (click)="openVideoViewer(videoViewerModal,item)">
                                                    </div>
                                                    <div class="photo-description">
                                                        <div [innerHtml]="item?.title ? item?.title :' '"></div>
                                                    </div>
                                                </li>
                                            </ul>
                                        </ng-container>
                                        <ng-container *ngIf="mediaVideoList.length==0">
                                            <p class="text-center">No video found.</p>
                                        </ng-container>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<ng-template #basicTab>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Edit Basic Details</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="container-fluid">
            <form autocomplete="off">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Builder:
                                <b> {{formDetails.builder_name}}</b>
                            </label>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Project:
                                <b> {{formDetails.project_name}}</b>
                            </label>
                        </div>
                    </div>

                     <div class="col-md-4">
                        <div class="form-group">
                            <label> Building Type:</label>
                            <select class="form-select" [ngModelOptions]="{standalone: true}"
                                [(ngModel)]="formDetails.building_type">
                                <option value="">Select Type</option>
                                <option value="condominium">Condominium</option>
                                <option value="townhouse">Townhouse</option>
                                <option value="semi-detached">Semi-Detached</option>
                                <option value="detached">Detached</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Model Collection
                                <span style="color:red">*</span>
                                :</label>
                            <select (change)='collectionChange()' [disabled]="!formDetails.project_id" class="form-select" [ngModelOptions]="{standalone: true}"
                                [(ngModel)]="formDetails.collection">
                                <option value="">Select Collection</option>
                                <option *ngFor="let item of collectionList" value={{item}}>{{item}}</option>
                            </select>
                            <div class="error" *ngIf="formDetails.project_id && modelList.length==0">
                                No model available
                            </div>
                        </div>
                    </div>
                    <!-- <div class="col-md-4">
                        <div class="form-group">
                            <label> Type:</label>
                            <select (change)='typeOptionsChange()' [disabled]="!formDetails.project_id" class="form-select" [ngModelOptions]="{standalone: true}"
                                [(ngModel)]="formDetails.type">
                                <option value="">Select Type</option>
                                <option *ngFor="let type of typeOptions" value={{type}}>{{type}}</option>
                            </select>
                            <div class="error" *ngIf="formDetails.project_id && typeOptions.length==0">
                                No type available
                            </div>
                        </div>
                    </div> -->
                    <div class="col-md-4">
                        <div class="form-group autocomplete-container">
                            <label>Model
                                <span style="color:red">*</span>: </label>
                            <span class="p-fluid">
                                <p-autoComplete [disabled]="!formDetails.project_id" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.model_id"
                                    [suggestions]="modelListSuggestions" (onSelect)="onModelSection($event)" (completeMethod)="filterModel($event)"
                                    field="name" [dropdown]="true">
                                </p-autoComplete>
                            </span>
                            <div class="error" *ngIf="formDetails.project_id && modelList.length==0">
                                No model available
                            </div>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Unit Number
                                <span style="color:red">*</span>:</label>
                            <input type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.unit_no" class="form-control">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Status
                                <span style="color:red">*</span>:</label>
                            <select [disabled]="formDetails?.status == 'SOLD' || formDetails?.status == 'ASSIGNED' || formDetails?.status == 'MERGED & RETIRED'"
                                class="form-select" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.status">
                                <option value="AVAILABLE"> AVAILABLE</option>
                                <option value="ASSIGNED" *ngIf="formDetails?.status == 'ASSIGNED'"> ASSIGNED</option>
                                <!-- <option value="OUTDOOR">OUTDOOR</option> -->
                                <option value="BROKER ALLOCATED"> BROKER ALLOCATED</option>
                                <option value="RESERVED">RESERVED</option>
                                <option value="CORPORATE HOLD">CORPORATE HOLD</option>
                                <option value="MARKETING HOLD">MARKETING HOLD</option>
                                <option value="SALES HOLD">SALES HOLD</option>
                                <option value="MERGED & RETIRED" *ngIf="formDetails?.status == 'MERGED & RETIRED'">MERGED & RETIRED</option>
                                <option value="SOLD" *ngIf="formDetails?.status == 'SOLD'">SOLD</option>
                            </select>
                        </div>
                    </div>

                    <!-- if status = RESERVED -->
                    <div class="col-md-4" *ngIf="formDetails?.status == 'RESERVED'">
                        <div class="form-group">
                            <label>Reservation Notes:</label>
                            <input type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.reservation_notes" class="form-control">
                        </div>
                    </div>

                    <!-- if status = BROKER ALLOCATED -->
                    <div class="col-md-12" *ngIf="formDetails?.status == 'BROKER ALLOCATED'">
                        <div class="unit-box form-group autocomplete-container">
                            <label for="Name">Select Broker
                                <!-- <span style="color:red">*</span>  -->
                                : </label>
                            <p-autoComplete type="search" (onDropdownClick)="onDropdownClick()" [(ngModel)]="formDetails.contact_name" [suggestions]="contactList"
                                [ngModelOptions]="{standalone: true}" (completeMethod)="searchAuto($event)" field="show_name"></p-autoComplete>
                        </div>
                        <div class="error text-right mb-1" *ngIf="contactList.length==0 && autosearchText.length>0">
                            No results found
                        </div>
                        <div class="mb-2 constituent-container" *ngIf="formDetails.contact_name?._id">
                            <p *ngIf="formDetails.contact_name">
                                {{formDetails.contact_name?._id}},{{formDetails.contact_name?.display_name}},{{formDetails.contact_name?.emails?.email}},{{formDetails.contact_name?.phones?.number}}
                            </p>
                            <p *ngIf="formDetails.contact_name?.addresses">
                                <span *ngIf="formDetails.contact_name.addresses?.street1">{{formDetails.contact_name.addresses.street1}},</span>
                                <span *ngIf="formDetails.contact_name.addresses?.street2">{{formDetails.contact_name.addresses.street2}},</span>
                                <span *ngIf="formDetails.contact_name.addresses?.street3">{{formDetails.contact_name.addresses.street3}},</span>
                                <span *ngIf="formDetails.contact_name.addresses?.city">{{formDetails.contact_name.addresses.city}},</span>
                                <span *ngIf="formDetails.contact_name.addresses?.state">{{formDetails.contact_name.addresses.state}},</span>
                                <span *ngIf="formDetails.contact_name.addaddress?.zip">{{formDetails.contact_name.addresses.zip}},</span>
                                <span *ngIf="formDetails.contact_name.addresses?.country">{{formDetails.contact_name.addresses.country}}.</span>
                            </p>
                            <p>
                                <span class="text-left" *ngIf="formDetails.contact_name?.spouse_name">Spouse: {{formDetails.contact_name?.spouse_name}}</span>
                                <span class="text-right" *ngIf="formDetails.contact_name?.territory">Territory: {{formDetails.contact_name?.territory}}</span>
                            </p>
                        </div>

                    </div>

                    <!-- if status = MERGED & RETIRED -->
                    <!-- <div class="col-md-4" *ngIf="formDetails?.status == 'MERGED & RETIRED'">
                        <div class="form-group">
                            <label>Merged Unit Number - Old
                                <span style="color:red">*</span>:</label>
                            <input type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.merged_unit_no_old" class="form-control">
                        </div>
                    </div>
                    <div class="col-md-4" *ngIf="formDetails?.status == 'MERGED & RETIRED'">
                        <div class="form-group">
                            <label>Merged Unit Number - New
                                <span style="color:red">*</span>:</label>
                            <input type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.merged_unit_no_new" class="form-control">
                        </div>
                    </div>
                    <div class="col-md-4" *ngIf="formDetails?.status == 'MERGED & RETIRED'">
                        <div class="form-group">
                            <label>Merge & Retire Notes:</label>
                            <input type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.merged_retire_notes" class="form-control">
                        </div>
                    </div> -->

                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Unit Number Legal:</label>
                            <input type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.unit_no_legal" class="form-control">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Unit Number Marketing :</label>
                            <input type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.unit_no_marketing" class="form-control">
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Floor Legal:</label>
                            <input type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.floor_legal" class="form-control">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Floor Marketing:</label>
                            <input type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.floor_marketing" class="form-control">
                        </div>
                    </div>

                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer">
        <div class="col-md-12 text-right">
            <button type="button" class="btn btn-secondary mr-2" (click)="modalRef.hide()">Cancel</button>
            <button type="button" class="btn btn-primary" (click)="editBasicDetails()">Update</button>
        </div>
    </div>
</ng-template>

<ng-template #otherTab>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Edit Other Details</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="container-fluid">
            <form autocomplete="off">
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Builder:
                                <b> {{formDetails.builder_name}}</b>
                            </label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Project:
                                <b> {{formDetails.project_name}}</b>
                            </label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Model:
                                <b> {{formDetails.model_name}}</b>
                            </label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Bed :
                            </label>
                            <input type="number" min="0" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.bed" class="form-control">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Bath
                                <!-- <span style="color:red">*</span> -->
                                :</label>
                            <input type="number" min="0" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.bath" class="form-control">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Den
                                <!-- <span style="color:red">*</span> -->
                                :</label>
                            <input type="number" min="0" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.den" class="form-control">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Flex :</label>
                            <input type="number" min="0" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.flex" class="form-control">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Media :</label>
                            <input type="number" min="0" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.media" class="form-control">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Ceiling ({{measureUnits[0]?.length}})
                                <!-- <span style="color:red">*</span> -->
                                :</label>
                            <input type="number" min="0" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.ceiling" class="form-control">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Area ({{measureUnits[0]?.area}})
                                <!-- <span style="color:red">*</span> -->
                                :</label>
                            <input type="number" min="0" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.area" class="form-control">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Outdoor Type
                                <!-- <span style="color:red">*</span> -->
                                :</label>
                            <input type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.outdoor_type" class="form-control">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Outdoor Area ({{measureUnits[0]?.area}})
                                <!-- <span style="color:red">*</span> -->
                                :</label>
                            <input type="number" min="0" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.outdoor_area" class="form-control">
                        </div>
                    </div>

                    <div class="col-md-12">
                        <div class="form-group">
                            <label>Eligible to Buy:</label>
                            <div class="form-check">
                                <div class="row">
                                    <div class="col-md-4" style="padding-top: 15px;">
                                        <input class="form-check-input" type="checkbox" value="" id="parking" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.is_parking_eligible">
                                        <label class="form-check-label" for="parking">
                                            Parking
                                        </label>
                                    </div>
                                    <div class="col-sm-12 col-md-4" *ngIf="formDetails.is_parking_eligible">
                                        <div>Max # of Parkings</div>
                                        <input type="number" min="1" class="form-control" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.max_parking">
                                    </div>
                                </div>
                            </div>
                            <div class="form-check">
                                <div class="row">
                                    <div class="col-md-4" style="padding-top: 15px;">
                                        <input class="form-check-input" type="checkbox" value="" id="locker" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.is_locker_eligible">
                                        <label class="form-check-label" for="locker">
                                            Locker
                                        </label>
                                    </div>
                                    <div class="col-sm-12 col-md-4" *ngIf="formDetails.is_locker_eligible">
                                        <div>Max # of Lockers</div>
                                        <input type="number" min="1" class="form-control" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.max_lockers">
                                    </div>
                                </div>
                            </div>
                            <div class="form-check">
                                <div class="row">
                                    <div class="col-md-4" style="padding-top: 15px;">
                                        <input class="form-check-input" type="checkbox" value="" id="bicycle" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.is_bicycle_eligible">
                                        <label class="form-check-label" for="bicycle">
                                            Bicycle Parking
                                        </label>
                                    </div>
                                    <div class="col-sm-12 col-md-4" *ngIf="formDetails.is_bicycle_eligible">
                                        <div>Max # of Bicycle Parking</div>
                                        <input type="number" min="1" class="form-control" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.max_bicycle">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer">
        <div class="col-md-12 text-right">
            <button type="button" class="btn btn-secondary mr-2" (click)="modalRef.hide()">Cancel</button>
            <button type="button" class="btn btn-primary" (click)="editOtherDetails()">Update</button>
        </div>
    </div>
</ng-template>

<ng-template #buildingViewTab>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Edit Building View Information</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="container-fluid">
            <form autocomplete="off">
                <div class="row">

                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Floor Position
                                <span style="color:red">*</span>
                                :</label>
                            <input type="number" min="0" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.building_view_floor" class="form-control">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Unit Position
                                <span style="color:red">*</span>
                                :</label>
                            <input type="number" min="0" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.building_view_unit" class="form-control">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Unit Width (px)
                                <span style="color:red">*</span>
                                :</label>
                            <input type="number" min="0" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.building_view_width" class="form-control">
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Unit Height (px)
                                <span style="color:red">*</span>
                                :</label>
                            <input type="number" min="0" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.building_view_height" class="form-control">
                        </div>
                    </div>


                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer">
        <div class="col-md-12 text-right">
            <button type="button" class="btn btn-secondary mr-2" (click)="modalRef.hide()">Cancel</button>
            <button type="button" class="btn btn-primary" (click)="editBuildingViewInfo()">Update</button>
        </div>
    </div>
</ng-template>

<ng-template #lotInfoTab>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Edit Lot Information</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="container-fluid">
            <form autocomplete="off">
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Type
                                <!-- <span style="color:red">*</span> -->
                                :</label>
                            <select class="form-select" (change)="onTypeChange($event.target.value)" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.lot_type">
                                <option value="">Select lot type</option>
                                <option *ngFor="let item of lotTypeList" value={{item._id}}>{{item.lot_name}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-4" *ngIf="formDetails.lot_type">
                        <div class="form-group">
                            <label>Width
                                <!-- <span style="color:red">*</span> -->
                                :</label>
                            <input type="number" min="0" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.width" class="form-control">
                        </div>
                    </div>
                    <div class="col-md-4" *ngIf="formDetails.lot_type">
                        <div class="form-group">
                            <label>Depth
                                <!-- <span style="color:red">*</span> -->
                                :</label>
                            <input type="number" min="0" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.depth" class="form-control">
                        </div>
                    </div>
                    <div class="col-md-4" *ngIf="formDetails.lot_type">
                        <div class="form-group">
                            <label>Area ({{measureUnits[0]?.area}})
                                <!-- <span style="color:red">*</span> -->
                                :</label>
                            <input type="number" min="0" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.lot_area" class="form-control">
                        </div>
                    </div>

                    <div class="col-md-4" *ngIf="formDetails.lot_type">
                        <div class="form-group mt-4">
                            <input type="checkbox" value="" id="isIrregular" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.is_irregular">
                            <label class="form-check-label pl-2" for="isIrregular">
                                Irregular
                            </label>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer">
        <div class="col-md-12 text-right">
            <button type="button" class="btn btn-secondary mr-2" (click)="modalRef.hide()">Cancel</button>
            <button type="button" class="btn btn-primary" (click)="editLotInfo()">Update</button>
        </div>
    </div>
</ng-template>

<ng-template #noteModal>
    <div class="modal-header">
        <h4 class="modal-title pull-left">{{isEdit ?'Edit' :'Add'}} Notes</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="container-fluid">
            <form autocomplete="off">
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-group">
                            <label>Note :
                            </label>
                            <div [froalaEditor]="nonInlineEdit" [(froalaModel)]="formDetails.body">
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer">
        <div class="col-md-12 text-right">
            <button type="button" class="btn btn-secondary mr-2" (click)="modalRef.hide()">Cancel</button>
            <button type="button" class="btn btn-primary" *ngIf="isEdit" (click)="editNotes()">Update</button>
            <button type="button" class="btn btn-primary" *ngIf="!isEdit" (click)="addNotes()">Add</button>
        </div>
    </div>
</ng-template>
<ng-template #videoModal>
  <div class="modal-header">
      <h4 class="modal-title pull-left">Add Video</h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
          <span aria-hidden="true">&times;</span>
      </button>
  </div>
  <div class="modal-body">
      <div class="container-fluid">
          <div class="row">
              <div class="col-md-12">
                  <div class="row">
                      <div class="col-sm-12">
                          <div class="form-group">
                              <label for="name">Video Type</label>
                              <select class="form-select" [(ngModel)]="videoDetails.video_type">
                                  <option value="">Select Video Type</option>
                                  <option value="YOUTUBE">Youtube</option>
                                  <option value="VIMEO">Vimeo</option>
                                  <option value="MP4">MP4</option>
                              </select>
                          </div>
                      </div>
                      <div class="col-sm-12">
                          <div class="form-group">
                              <label for="name">Video Url</label>
                              <input type="text" class="form-control" [(ngModel)]="videoDetails.url" name="url" placeholder="Video url">
                          </div>
                      </div>
                      <div class="col-sm-12">
                          <div class="form-group">
                              <label for="name">Title :</label>
                              <input type="text" class="form-control" [(ngModel)]="videoDetails.title" name="url" placeholder="Title">
                          </div>
                      </div>
                      <div class="col-sm-12">
                          <label for="name">Body :</label>
                          <div [froalaEditor]="nonInlineEdit" [(froalaModel)]="videoDetails.body">
                          </div>
                      </div>

                  </div>
              </div>
          </div>
      </div>
  </div>
  <div class="modal-footer">
      <div class="col-md-12 text-right">
          <button type="button" class="btn btn-secondary mr-2" (click)="modalRef.hide()">Cancel</button>
          <button type="button" class="btn btn-primary" (click)="addModelVideos()">Add</button>
      </div>
  </div>
</ng-template>

<ng-template #editUnitViews>

    <div class="modal-header">
        <h4 class="modal-title pull-left">Edit Views</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form autocomplete="off">
        <div class="container-fluid">
                <!-- <form autocomplete="off">
                    <h6 class="mb-3 mt-4">Select Views apply to this model : {{formDetails.name}}</h6>
                    <div class="mb-5" *ngIf="formDetails?.views?.length>0">
                        <div class="form-check mb-2" *ngFor=" let item of formDetails?.views; let i =index">
                            <input class="form-check-input" type="checkbox" [ngModelOptions]="{standalone: true}" [(ngModel)]="item.is_enable" id="views{{i}}">
                            <label class="form-check-label" for="views{{i}}">
                                {{item.name}}
                            </label>
                        </div>
                    </div>
                    <div class="mb-5" *ngIf="formDetails?.views?.length==0">
                        <p> No views added</p>
                    </div>
                    <div class="form-group row">
                        <div class="col-sm-5 pr-1">
                            <input type="text" (keyup.enter)="addViews()" (focusout)="checkExistViewName()" class="form-control" placeholder="Views"
                                [ngModelOptions]="{standalone: true}" [(ngModel)]="viewName">
                        </div>
                        <div class="col-sm-4 pl-1">
                            <button type="button" class="btn btn-primary" (click)="addViews()">Add</button>
                        </div>
                    </div>
                </form> -->
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Builder:
                                <b> {{formDetails.builder_name}}</b>
                            </label>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Project:
                                <b> {{formDetails.project_name}}</b>
                            </label>
                        </div>
                    </div>

                    <div class="col-md-4">
                        <div class="form-group">
                            <label>Model:
                                <b> {{formDetails.model_name}}</b>
                            </label>
                        </div>
                    </div>
                    <!-- <div class="col-md-6">
                        <div class="form-group">
                            <label>Model
                                <span style="color:red">*</span>:</label>
                            <select class="form-select" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.model_id" (change)='modelChange()'>
                                <option value="">Select model</option>
                                <option *ngFor="let item of modelList" value={{item._id}}>{{item.name}}</option>
                            </select>
                        </div>
                    </div> -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Views:</label>
                            <ng-multiselect-dropdown (onDeSelectAll)="onViewsSelect('views',$event)" (onSelectAll)="onViewsSelect('views',$event)" [placeholder]="'Select Views'"
                                [ngModelOptions]="{standalone: true}" [data]="projectViews" [(ngModel)]="formDetails.views" [settings]="dropdownSettings">
                            </ng-multiselect-dropdown>

                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <div class="col-md-12 text-right">
            <button type="button" class="btn btn-secondary mr-2" (click)="modalRef.hide()">Cancel</button>
            <button type="button" class="btn btn-primary" *ngIf="isEdit" (click)="editModelViews()">Update</button>
        </div>
    </div>
</ng-template>


<ng-template #customAttributesModal>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Update Custom Attributes</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="container-fluid">
            <form autocomplete="off">
                <div class="row">
                    <div class="col-md-12" *ngFor="let attribute of formDetails.atrributes;">
                        <ng-container [ngSwitch]="attribute.ui_type">

                            <ng-container *ngSwitchCase="'TEXTBOX'">
                                <div class="form-group">
                                    <label [attr.for]="attribute.attribute_id">{{attribute?.attribute_name}}</label>
                                    <span style="color:red" *ngIf="attribute?.required">*</span>
                                    <input class="form-control" *ngIf="attribute.data_type!='DATE'" [ngModelOptions]="{standalone: true}" [(ngModel)]="attribute.value"
                                        [id]="attribute.attribute_id" [name]="attribute.attribute_id" [type]="attribute.input_type">
                                    <div class="input-group" *ngIf="attribute.data_type=='DATE'">
                                        <input [type]="attribute.input_type" class="form-control" placeholder="YYYY-MM-DD" #customDate="bsDatepicker" bsDatepicker
                                            [bsConfig]="{ containerClass: 'theme-dark-blue',showTodayButton: true, todayPosition: 'center',showClearButton: true, clearPosition: 'right',isAnimated: true,adaptivePosition: true,dateInputFormat: 'YYYY-MM-DD',  returnFocusToInput: true }"
                                            [ngModelOptions]="{standalone: true}" [(ngModel)]="attribute.value">
                                        <span class=" input-group-prepend" (click)="customDate.toggle()" [attr.aria-expanded]="customDate.isOpen">
                                            <span class="input-group-text">
                                                <i class="fa fa-calendar"></i>
                                            </span>
                                        </span>
                                    </div>

                                </div>

                            </ng-container>

                            <ng-container *ngSwitchCase="'DROPDOWN'">
                                <div class="form-group">
                                    <label [attr.for]="attribute.attribute_id">{{attribute?.attribute_name}}</label>
                                    <span style="color:red" *ngIf="attribute?.required">*</span>
                                    <select class="custom-select" [id]="attribute.attribute_id" [ngModelOptions]="{standalone: true}" [(ngModel)]="attribute.value"
                                        [name]="attribute.attribute_id">
                                        <option value="">Select {{attribute?.attribute_name}}</option>
                                        <option *ngFor="let opt of attribute.options" [value]="opt.value">{{opt.label}}</option>
                                    </select>
                                </div>
                            </ng-container>


                            <ng-container *ngSwitchCase="'CHECKBOX'">
                                <div class="form-group">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" [ngModelOptions]="{standalone: true}" [(ngModel)]="attribute.value" [name]="attribute.attribute_id"
                                            [id]="attribute.attribute_id">
                                        <label class="form-check-label" [attr.for]="attribute.attribute_id">{{attribute?.attribute_name}}</label>
                                    </div>
                                </div>
                            </ng-container>

                            <!-- <ng-container *ngSwitchCase="'RADIO'">
                                <div class="form-group">
                                    <div class="form-check form-check-inline" *ngFor="let opt of attribute.options">
                                        <input class="form-check-input" type="radio" [ngModelOptions]="{standalone: true}" [(ngModel)]="attribute.value" [name]="attribute.attribute_id"
                                            [id]="opt.key" [value]="opt.value">
                                        <label class="form-check-label" [attr.for]="opt.key"> {{ opt.value }} </label>
                                    </div>
                                </div>
                            </ng-container>
                            <ng-container *ngSwitchCase="'TEXTAREA'">
                                <div class="form-group">
                                    <label [attr.for]="attribute.attribute_id">{{attribute?.attribute_name}}</label>
                                    <textarea class="form-control" [ngModelOptions]="{standalone: true}" [(ngModel)]="attribute.value" [name]="attribute.attribute_id"
                                        [id]="attribute.attribute_id" rows="5"></textarea>
                                </div>
                            </ng-container> -->
                        </ng-container>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer">
        <div class="col-md-12 text-right">
            <button type="button" class="btn btn-secondary mr-2" (click)="modalRef.hide()">Cancel</button>
            <button type="button" class="btn btn-primary" (click)="updateCustomAttributes()">Update</button>
        </div>
    </div>
</ng-template>


<ng-template #allocateParkingModal>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Allocate Parking </h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="container-fluid">
            <form autocomplete="off">
                <ng-container *ngIf="unitDetailsObj?.is_parking_eligible">
                    <div *ngIf="parkingTypes.length>0 ">
                        <table *ngIf="!unitDetailsObj?.deal_id" class="table table-striped table-sm list_table table-header-fixed" style="table-layout: fixed;">
                            <thead>
                                <tr>
                                    <th>Type </th>
                                    <th>Number</th>
                                </tr>
                            </thead>
                            <tbody>
                                <ng-container *ngFor="let item of parkingTypes; let i =index">
                                    <tr>
                                        <td>{{item?.name}}</td>
                                        <td>
                                            <input type="number" id="number{{i}}" min="0" step="1" class="form-control" [ngModelOptions]="{standalone: true}" [(ngModel)]="item.number">
                                        </td>
                                    </tr>
                                </ng-container>
                            </tbody>
                        </table>
                    </div>
                    <div class="mb-5" *ngIf="parkingTypes.length==0">
                        <p class="text-center"> No Parking Type</p>
                    </div>

                    <div class="info-message bg-warning" *ngIf="parkingTypes.length>0 && unitDetailsObj?.deal_id">
                        Deal is present for the unit. Please allocate from deal &nbsp;
                        <b class="pointer" (click)="navigateToDealDetails(unitDetailsObj?.deal_id)">{{unitDetailsObj?.deal_id}}</b>
                    </div>
                </ng-container>

                <div class="info-message bg-warning" *ngIf="!unitDetailsObj?.is_parking_eligible">
                    This unit is not eligible for parking
                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer">
        <div class="col-md-12 text-right">
            <button type="button" class="btn btn-secondary mr-2" (click)="modalRef.hide()">Cancel</button>
            <button type="button" class="btn btn-primary" *ngIf="unitDetailsObj?.is_parking_eligible && !unitDetailsObj?.deal_id" (click)="allocateParking()">Add</button>
        </div>
    </div>
</ng-template>

<ng-template #allocateBicycleModal>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Allocate Bicycle </h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="container-fluid">
            <form autocomplete="off">
                <ng-container *ngIf="unitDetailsObj?.is_bicycle_eligible">
                    <div *ngIf="bicycleTypes.length>0 ">
                        <table *ngIf="!unitDetailsObj?.deal_id" class="table table-striped table-sm list_table table-header-fixed" style="table-layout: fixed;">
                            <thead>
                                <tr>
                                    <th>Type </th>
                                    <th>Number</th>
                                </tr>
                            </thead>
                            <tbody>
                                <ng-container *ngFor="let item of bicycleTypes; let i =index">
                                    <tr>
                                        <td>{{item?.name}}</td>
                                        <td>
                                            <input type="number" id="number{{i}}" min="0" step="1" class="form-control" [ngModelOptions]="{standalone: true}" [(ngModel)]="item.number">
                                        </td>
                                    </tr>
                                </ng-container>
                            </tbody>
                        </table>

                    </div>
                    <div class="mb-5" *ngIf="bicycleTypes.length==0">
                        <p class="text-center"> No Bicycle Type</p>
                    </div>

                    <div class="info-message bg-warning" *ngIf="bicycleTypes.length>0 && unitDetailsObj?.deal_id">
                        Deal is present for the unit. Please allocate from deal &nbsp;
                        <b class="pointer" (click)="navigateToDealDetails(unitDetailsObj?.deal_id)">{{unitDetailsObj?.deal_id}}</b>
                    </div>
                </ng-container>

                <div class="info-message bg-warning" *ngIf="!unitDetailsObj?.is_bicycle_eligible">
                    This unit is not eligible for bicycle parking
                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer">
        <div class="col-md-12 text-right">
            <button type="button" class="btn btn-secondary mr-2" (click)="modalRef.hide()">Cancel</button>
            <button type="button" class="btn btn-primary" *ngIf="unitDetailsObj?.is_bicycle_eligible && !unitDetailsObj?.deal_id" (click)="allocateBicycle()">Add</button>
        </div>
    </div>
</ng-template>

<ng-template #allocateLockerModal>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Allocate Locker </h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="container-fluid">
            <form autocomplete="off">
                <ng-container *ngIf="unitDetailsObj?.is_locker_eligible">
                    <div *ngIf="lockerTypes.length>0 ">
                        <table *ngIf="!unitDetailsObj?.deal_id" class="table table-striped table-sm list_table table-header-fixed" style="table-layout: fixed;">
                            <thead>
                                <tr>
                                    <th>Type </th>
                                    <th>Number</th>
                                </tr>
                            </thead>
                            <tbody>
                                <ng-container *ngFor="let item of lockerTypes; let i =index">
                                    <tr>
                                        <td>{{item?.name}}</td>
                                        <td>
                                            <input type="number" id="number{{i}}" min="0" step="1" class="form-control" [ngModelOptions]="{standalone: true}" [(ngModel)]="item.number">
                                        </td>
                                    </tr>
                                </ng-container>
                            </tbody>
                        </table>
                    </div>
                    <div class="mb-5" *ngIf="lockerTypes.length==0">
                        <p class="text-center"> No Locker Type</p>
                    </div>
                    <div class="info-message bg-warning" *ngIf="lockerTypes.length>0 && unitDetailsObj?.deal_id">
                        Deal is present for the unit. Please allocate from deal &nbsp;
                        <b class="pointer" (click)="navigateToDealDetails(unitDetailsObj?.deal_id)">{{unitDetailsObj?.deal_id}}</b>
                    </div>
                </ng-container>
                <div class="info-message bg-warning" *ngIf="!unitDetailsObj?.is_locker_eligible">
                    This unit is not eligible for locker parking
                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer">
        <div class="col-md-12 text-right">
            <button type="button" class="btn btn-secondary mr-2" (click)="modalRef.hide()">Cancel</button>
            <button type="button" class="btn btn-primary" *ngIf="unitDetailsObj?.is_locker_eligible && !unitDetailsObj?.deal_id" (click)="allocateLocker()">Add</button>
        </div>
    </div>
</ng-template>

<ng-template #imageViwerModal>
    <div class="modal-header">
        <h4 class="modal-title pull-left"> {{currentModalData?.name}} </h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body text-center custom-media-body">
        <div class="container-fluid">
            <div class="pdf-container" *ngIf="currentModalData?.file_type=='pdf'">
                <pdf-viewer [src]="currentModalData?.path" [original-size]="false"></pdf-viewer>
            </div>
            <div class="col-md-12" *ngIf="currentModalData?.file_type!='pdf'">
                <img style="max-width:100%" [src]="currentModalData?.path" alt="{{currentModalData?.name}}">
            </div>
            <div *ngIf="!currentModalData?.path">
                Image is not available
            </div>
        </div>
    </div>
</ng-template>

<ng-template #editUnitSpaces>
    <div class="modal-header">
        <h4 class="modal-title pull-left">Edit Spaces</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form autocomplete="off">
        <div class="container-fluid">
                    <h6 class="mb-3">Select Spaces apply to this mode : {{formDetails.name}}</h6>
                    <div class="list-scroll mb-4 pl-1 pr-1" *ngIf="formDetails?.spaces?.length>0">
                        <div class="row">
                            <div class="col-md-4">
                                Name
                            </div>
                            <div class="col-md-3 text-center">
                                Size ({{measureUnits[0]?.area}})
                            </div>
                        </div>
                        <div class="form-check mb-2" *ngFor=" let item of formDetails?.spaces; let i =index">
                            <div class="row">
                                <div class="col-md-4">
                                    <input class="form-check-input" type="checkbox" [ngModelOptions]="{standalone: true}" [(ngModel)]="item.is_enable" id="spaces{{i}}">
                                    <label class="form-check-label" for="spaces{{i}}">
                                        {{item.name}}
                                    </label>
                                </div>
                                <div class="col-md-3">
                                    <input type="number" id="space{{i}}" min="0" *ngIf="item.is_enable" step="0.1" class="form-control" [ngModelOptions]="{standalone: true}"
                                        [(ngModel)]="item.size" placeholder="Size">
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mb-5" *ngIf="formDetails?.spaces?.length==0">
                        <p> No spaces added</p>
                    </div>
                    <div class="form-group row">
                        <div class="col-8 pr-1">
                            <input type="text" (keyup.enter)="addSpaces()" (focusout)="checkExistSpacesName()" class="form-control" placeholder="Spaces"
                                [ngModelOptions]="{standalone: true}" [(ngModel)]="spaceName">
                        </div>
                        <div class="col pl-1">
                            <button type="button" class="btn btn-primary" (click)="addSpaces()">Add</button>
                        </div>
                    </div>
        </div>
        </form>
    </div>
    <div class="modal-footer">
        <div class="col-md-12 text-right">
            <button type="button" class="btn btn-secondary mr-2" (click)="modalRef.hide()">Cancel</button>
            <button type="button" class="btn btn-primary" *ngIf="isEdit" (click)="editModelSpaces()">Update</button>
        </div>
    </div>
</ng-template>


<ng-template #updateTitleModal>
    <div class="modal-header">
        <h5 class="modal-title pull-left">Suite Customization Layout Title</h5>
        <button type="button " class="close pull-right " aria-label="Close " (click)="modalRef.hide() ">
            <span aria-hidden="true ">&times;</span>
        </button>
    </div>
    <div class="modal-body ">
      <div class="container-fluid ">
          <form autocomplete="off">
              <div class="row ">
                  <div class="col-md-12 ">
                      <div class="form-group ">
                        <label for="name">Title :</label>
                        <input type="text" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.title" class="form-control col-md-12" name="url" placeholder="Title">
                      </div>
                  </div>
              </div>
          </form>
      </div>
    </div>
    <div class="modal-footer ">
      <div class="col-md-12 text-right ">
          <button type="button" class="btn btn-secondary mr-2" (click)="modalRef.hide()">Cancel</button>
          <button type="button" class="btn btn-primary" (click)="updateImageTitle()">Update</button>
      </div>
  </div>
</ng-template>

<ng-template #photoDescriptionModal>
    <div class="modal-header">
        <h5 class="modal-title pull-left">Photo Description</h5>
        <button type="button " class="close pull-right " aria-label="Close " (click)="modalRef.hide() ">
            <span aria-hidden="true ">&times;</span>
        </button>
    </div>
    <div class="modal-body ">
        <div class="container-fluid ">
            <form autocomplete="off ">
                <div class="row ">
                    <div class="col-md-12 ">
                        <div class="form-group ">
                            <label>Description :
                            </label>
                            <div [froalaEditor]="nonInlineEdit" [(froalaModel)]="formDetails.description">
                            </div>
                            <!-- <textarea type="text" rows="4" cols="4" [ngModelOptions]="{standalone: true}" [(ngModel)]="formDetails.description" class="form-control"></textarea> -->
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div class="modal-footer ">
        <div class="col-md-12 text-right ">
            <button type="button" class="btn btn-secondary mr-2" (click)="modalRef.hide()">Cancel</button>
            <button type="button" class="btn btn-primary" (click)="updatePhotoDescription()">Update</button>
        </div>
    </div>
</ng-template>

<ng-template #photoViewModal>
    <div class="modal-header">
        <h4 class="modal-title pull-left"> {{selectedPhotoPath?.name ? selectedPhotoPath?.name :'Image is not available'}} </h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body text-center custom-media-body">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12" *ngIf="selectedPhotoPath?.path">
                    <img style="max-width:100%" [src]="selectedPhotoPath?.path" alt="{{selectedPhotoPath?.name}}">
                </div>
                <div class="col-md-12 text-center pt-2">
                    <div [innerHtml]="selectedPhotoPath?.description ? selectedPhotoPath?.description :' '"></div>
                </div>
                <div *ngIf="!selectedPhotoPath?.path">
                    Image is not available
                </div>
            </div>
        </div>
    </div>
</ng-template>

<ng-template #videoViewerModal>
    <div class="modal-header">
        <h4 class="modal-title pull-left"> {{selectedVideoPath.name? selectedVideoPath?.name :''}} </h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body text-center custom-media-body">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <!-- <img [src]="selectedPhotoPath?.path" alt="{{selectedPhotoPath?.name}}"> -->
                    <iframe [src]="selectedVideoPath?.path" frameborder="0" width="100%" height="500px" webkitallowfullscreen mozallowfullscreen
                        allowfullscreen>
                    </iframe>

                    <div class="col-md-12 text-center pt-2" *ngIf="selectedVideoPath?.body">
                        <div [innerHtml]="selectedVideoPath?.body ? selectedVideoPath?.body :' '"></div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</ng-template>

